{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar proxyCompare = require('proxy-compare');\n\nvar VERSION = Symbol();\nvar LISTENERS = Symbol();\nvar SNAPSHOT = Symbol();\nvar PROMISE_RESULT = Symbol();\nvar PROMISE_ERROR = Symbol();\nvar refSet = new WeakSet();\n\nvar ref = function ref(o) {\n  refSet.add(o);\n  return o;\n};\n\nvar isSupportedObject = function isSupportedObject(x) {\n  return typeof x === 'object' && x !== null && (Array.isArray(x) || !x[Symbol.iterator]) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer);\n};\n\nvar proxyCache = new WeakMap();\nvar globalVersion = 1;\nvar snapshotCache = new WeakMap();\n\nvar proxy = function proxy(initialObject) {\n  if (initialObject === void 0) {\n    initialObject = {};\n  }\n\n  if (!isSupportedObject(initialObject)) {\n    throw new Error('unsupported object type');\n  }\n\n  var found = proxyCache.get(initialObject);\n\n  if (found) {\n    return found;\n  }\n\n  var version = globalVersion;\n  var listeners = new Set();\n\n  var notifyUpdate = function notifyUpdate(op, nextVersion) {\n    if (!nextVersion) {\n      nextVersion = ++globalVersion;\n    }\n\n    if (version !== nextVersion) {\n      version = nextVersion;\n      listeners.forEach(function (listener) {\n        return listener(op, nextVersion);\n      });\n    }\n  };\n\n  var propListeners = new Map();\n\n  var getPropListener = function getPropListener(prop) {\n    var propListener = propListeners.get(prop);\n\n    if (!propListener) {\n      propListener = function propListener(op, nextVersion) {\n        var newOp = [].concat(op);\n        newOp[1] = [prop].concat(newOp[1]);\n        notifyUpdate(newOp, nextVersion);\n      };\n\n      propListeners.set(prop, propListener);\n    }\n\n    return propListener;\n  };\n\n  var popPropListener = function popPropListener(prop) {\n    var propListener = propListeners.get(prop);\n    propListeners.delete(prop);\n    return propListener;\n  };\n\n  var createSnapshot = function createSnapshot(target, receiver) {\n    var cache = snapshotCache.get(receiver);\n\n    if ((cache == null ? void 0 : cache[0]) === version) {\n      return cache[1];\n    }\n\n    var snapshot = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n    proxyCompare.markToTrack(snapshot, true);\n    snapshotCache.set(receiver, [version, snapshot]);\n    Reflect.ownKeys(target).forEach(function (key) {\n      var value = target[key];\n\n      if (refSet.has(value)) {\n        proxyCompare.markToTrack(value, false);\n        snapshot[key] = value;\n      } else if (!isSupportedObject(value)) {\n        snapshot[key] = value;\n      } else if (value instanceof Promise) {\n        if (PROMISE_RESULT in value) {\n          snapshot[key] = value[PROMISE_RESULT];\n        } else {\n          var errorOrPromise = value[PROMISE_ERROR] || value;\n          Object.defineProperty(snapshot, key, {\n            get: function get() {\n              if (PROMISE_RESULT in value) {\n                return value[PROMISE_RESULT];\n              }\n\n              throw errorOrPromise;\n            }\n          });\n        }\n      } else if (value[VERSION]) {\n        snapshot[key] = value[SNAPSHOT];\n      } else {\n        snapshot[key] = value;\n      }\n    });\n    Object.freeze(snapshot);\n    return snapshot;\n  };\n\n  var baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n  var proxyObject = new Proxy(baseObject, {\n    get: function get(target, prop, receiver) {\n      if (prop === VERSION) {\n        return version;\n      }\n\n      if (prop === LISTENERS) {\n        return listeners;\n      }\n\n      if (prop === SNAPSHOT) {\n        return createSnapshot(target, receiver);\n      }\n\n      return target[prop];\n    },\n    deleteProperty: function deleteProperty(target, prop) {\n      var prevValue = target[prop];\n      var childListeners = prevValue == null ? void 0 : prevValue[LISTENERS];\n\n      if (childListeners) {\n        childListeners.delete(popPropListener(prop));\n      }\n\n      var deleted = Reflect.deleteProperty(target, prop);\n\n      if (deleted) {\n        notifyUpdate(['delete', [prop], prevValue]);\n      }\n\n      return deleted;\n    },\n    set: function set(target, prop, value) {\n      var _Object$getOwnPropert;\n\n      var prevValue = target[prop];\n\n      if (Object.is(prevValue, value)) {\n        return true;\n      }\n\n      var childListeners = prevValue == null ? void 0 : prevValue[LISTENERS];\n\n      if (childListeners) {\n        childListeners.delete(popPropListener(prop));\n      }\n\n      if (refSet.has(value) || !isSupportedObject(value) || (_Object$getOwnPropert = Object.getOwnPropertyDescriptor(target, prop)) != null && _Object$getOwnPropert.set) {\n        target[prop] = value;\n      } else if (value instanceof Promise) {\n        target[prop] = value.then(function (v) {\n          target[prop][PROMISE_RESULT] = v;\n          notifyUpdate(['resolve', [prop], v]);\n          return v;\n        }).catch(function (e) {\n          target[prop][PROMISE_ERROR] = e;\n          notifyUpdate(['reject', [prop], e]);\n        });\n      } else {\n        value = proxyCompare.getUntracked(value) || value;\n\n        if (value[LISTENERS]) {\n          target[prop] = value;\n        } else {\n          target[prop] = proxy(value);\n        }\n\n        target[prop][LISTENERS].add(getPropListener(prop));\n      }\n\n      notifyUpdate(['set', [prop], value, prevValue]);\n      return true;\n    }\n  });\n  proxyCache.set(initialObject, proxyObject);\n  Reflect.ownKeys(initialObject).forEach(function (key) {\n    var desc = Object.getOwnPropertyDescriptor(initialObject, key);\n\n    if (desc.get || desc.set) {\n      Object.defineProperty(baseObject, key, desc);\n    } else {\n      proxyObject[key] = initialObject[key];\n    }\n  });\n  return proxyObject;\n};\n\nvar getVersion = function getVersion(proxyObject) {\n  return proxyObject[VERSION];\n};\n\nvar subscribe = function subscribe(proxyObject, callback, notifyInSync) {\n  if (typeof process === 'object' && process.env.NODE_ENV !== 'production' && !(proxyObject != null && proxyObject[LISTENERS])) {\n    console.warn('Please use proxy object');\n  }\n\n  var promise;\n  var ops = [];\n\n  var listener = function listener(op) {\n    ops.push(op);\n\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n\n    if (!promise) {\n      promise = Promise.resolve().then(function () {\n        promise = undefined;\n        callback(ops.splice(0));\n      });\n    }\n  };\n\n  proxyObject[LISTENERS].add(listener);\n  return function () {\n    proxyObject[LISTENERS].delete(listener);\n  };\n};\n\nvar snapshot = function snapshot(proxyObject) {\n  if (typeof process === 'object' && process.env.NODE_ENV !== 'production' && !(proxyObject != null && proxyObject[SNAPSHOT])) {\n    console.warn('Please use proxy object');\n  }\n\n  return proxyObject[SNAPSHOT];\n};\n\nexports.getVersion = getVersion;\nexports.proxy = proxy;\nexports.ref = ref;\nexports.snapshot = snapshot;\nexports.subscribe = subscribe;","map":{"version":3,"sources":["F:/SeventhProj/tshirt/node_modules/valtio/vanilla.js"],"names":["Object","defineProperty","exports","value","proxyCompare","require","VERSION","Symbol","LISTENERS","SNAPSHOT","PROMISE_RESULT","PROMISE_ERROR","refSet","WeakSet","ref","o","add","isSupportedObject","x","Array","isArray","iterator","WeakMap","Error","Number","Date","String","RegExp","ArrayBuffer","proxyCache","globalVersion","snapshotCache","proxy","initialObject","found","get","version","listeners","Set","notifyUpdate","op","nextVersion","forEach","listener","propListeners","Map","getPropListener","prop","propListener","newOp","concat","set","popPropListener","delete","createSnapshot","target","receiver","cache","snapshot","create","getPrototypeOf","markToTrack","Reflect","ownKeys","key","has","Promise","errorOrPromise","freeze","baseObject","proxyObject","Proxy","deleteProperty","prevValue","childListeners","deleted","_Object$getOwnPropert","is","getOwnPropertyDescriptor","then","v","catch","e","getUntracked","desc","getVersion","subscribe","callback","notifyInSync","process","env","NODE_ENV","console","warn","promise","ops","push","splice","resolve","undefined"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AAEA,IAAIC,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AAEA,IAAIC,OAAO,GAAGC,MAAM,EAApB;AACA,IAAIC,SAAS,GAAGD,MAAM,EAAtB;AACA,IAAIE,QAAQ,GAAGF,MAAM,EAArB;AACA,IAAIG,cAAc,GAAGH,MAAM,EAA3B;AACA,IAAII,aAAa,GAAGJ,MAAM,EAA1B;AACA,IAAIK,MAAM,GAAG,IAAIC,OAAJ,EAAb;;AACA,IAAIC,GAAG,GAAG,SAASA,GAAT,CAAaC,CAAb,EAAgB;AACxBH,EAAAA,MAAM,CAACI,GAAP,CAAWD,CAAX;AACA,SAAOA,CAAP;AACD,CAHD;;AAKA,IAAIE,iBAAiB,GAAG,SAASA,iBAAT,CAA2BC,CAA3B,EAA8B;AACpD,SAAO,OAAOA,CAAP,KAAa,QAAb,IAAyBA,CAAC,KAAK,IAA/B,KAAwCC,KAAK,CAACC,OAAN,CAAcF,CAAd,KAAoB,CAACA,CAAC,CAACX,MAAM,CAACc,QAAR,CAA9D,KAAoF,EAAEH,CAAC,YAAYI,OAAf,CAApF,IAA+G,EAAEJ,CAAC,YAAYL,OAAf,CAA/G,IAA0I,EAAEK,CAAC,YAAYK,KAAf,CAA1I,IAAmK,EAAEL,CAAC,YAAYM,MAAf,CAAnK,IAA6L,EAAEN,CAAC,YAAYO,IAAf,CAA7L,IAAqN,EAAEP,CAAC,YAAYQ,MAAf,CAArN,IAA+O,EAAER,CAAC,YAAYS,MAAf,CAA/O,IAAyQ,EAAET,CAAC,YAAYU,WAAf,CAAhR;AACD,CAFD;;AAIA,IAAIC,UAAU,GAAG,IAAIP,OAAJ,EAAjB;AACA,IAAIQ,aAAa,GAAG,CAApB;AACA,IAAIC,aAAa,GAAG,IAAIT,OAAJ,EAApB;;AACA,IAAIU,KAAK,GAAG,SAASA,KAAT,CAAeC,aAAf,EAA8B;AACxC,MAAIA,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAC5BA,IAAAA,aAAa,GAAG,EAAhB;AACD;;AAED,MAAI,CAAChB,iBAAiB,CAACgB,aAAD,CAAtB,EAAuC;AACrC,UAAM,IAAIV,KAAJ,CAAU,yBAAV,CAAN;AACD;;AAED,MAAIW,KAAK,GAAGL,UAAU,CAACM,GAAX,CAAeF,aAAf,CAAZ;;AAEA,MAAIC,KAAJ,EAAW;AACT,WAAOA,KAAP;AACD;;AAED,MAAIE,OAAO,GAAGN,aAAd;AACA,MAAIO,SAAS,GAAG,IAAIC,GAAJ,EAAhB;;AAEA,MAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBC,EAAtB,EAA0BC,WAA1B,EAAuC;AACxD,QAAI,CAACA,WAAL,EAAkB;AAChBA,MAAAA,WAAW,GAAG,EAAEX,aAAhB;AACD;;AAED,QAAIM,OAAO,KAAKK,WAAhB,EAA6B;AAC3BL,MAAAA,OAAO,GAAGK,WAAV;AACAJ,MAAAA,SAAS,CAACK,OAAV,CAAkB,UAAUC,QAAV,EAAoB;AACpC,eAAOA,QAAQ,CAACH,EAAD,EAAKC,WAAL,CAAf;AACD,OAFD;AAGD;AACF,GAXD;;AAaA,MAAIG,aAAa,GAAG,IAAIC,GAAJ,EAApB;;AAEA,MAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBC,IAAzB,EAA+B;AACnD,QAAIC,YAAY,GAAGJ,aAAa,CAACT,GAAd,CAAkBY,IAAlB,CAAnB;;AAEA,QAAI,CAACC,YAAL,EAAmB;AACjBA,MAAAA,YAAY,GAAG,SAASA,YAAT,CAAsBR,EAAtB,EAA0BC,WAA1B,EAAuC;AACpD,YAAIQ,KAAK,GAAG,GAAGC,MAAH,CAAUV,EAAV,CAAZ;AACAS,QAAAA,KAAK,CAAC,CAAD,CAAL,GAAW,CAACF,IAAD,EAAOG,MAAP,CAAcD,KAAK,CAAC,CAAD,CAAnB,CAAX;AACAV,QAAAA,YAAY,CAACU,KAAD,EAAQR,WAAR,CAAZ;AACD,OAJD;;AAMAG,MAAAA,aAAa,CAACO,GAAd,CAAkBJ,IAAlB,EAAwBC,YAAxB;AACD;;AAED,WAAOA,YAAP;AACD,GAdD;;AAgBA,MAAII,eAAe,GAAG,SAASA,eAAT,CAAyBL,IAAzB,EAA+B;AACnD,QAAIC,YAAY,GAAGJ,aAAa,CAACT,GAAd,CAAkBY,IAAlB,CAAnB;AACAH,IAAAA,aAAa,CAACS,MAAd,CAAqBN,IAArB;AACA,WAAOC,YAAP;AACD,GAJD;;AAMA,MAAIM,cAAc,GAAG,SAASA,cAAT,CAAwBC,MAAxB,EAAgCC,QAAhC,EAA0C;AAC7D,QAAIC,KAAK,GAAG1B,aAAa,CAACI,GAAd,CAAkBqB,QAAlB,CAAZ;;AAEA,QAAI,CAACC,KAAK,IAAI,IAAT,GAAgB,KAAK,CAArB,GAAyBA,KAAK,CAAC,CAAD,CAA/B,MAAwCrB,OAA5C,EAAqD;AACnD,aAAOqB,KAAK,CAAC,CAAD,CAAZ;AACD;;AAED,QAAIC,QAAQ,GAAGvC,KAAK,CAACC,OAAN,CAAcmC,MAAd,IAAwB,EAAxB,GAA6BvD,MAAM,CAAC2D,MAAP,CAAc3D,MAAM,CAAC4D,cAAP,CAAsBL,MAAtB,CAAd,CAA5C;AACAnD,IAAAA,YAAY,CAACyD,WAAb,CAAyBH,QAAzB,EAAmC,IAAnC;AACA3B,IAAAA,aAAa,CAACoB,GAAd,CAAkBK,QAAlB,EAA4B,CAACpB,OAAD,EAAUsB,QAAV,CAA5B;AACAI,IAAAA,OAAO,CAACC,OAAR,CAAgBR,MAAhB,EAAwBb,OAAxB,CAAgC,UAAUsB,GAAV,EAAe;AAC7C,UAAI7D,KAAK,GAAGoD,MAAM,CAACS,GAAD,CAAlB;;AAEA,UAAIpD,MAAM,CAACqD,GAAP,CAAW9D,KAAX,CAAJ,EAAuB;AACrBC,QAAAA,YAAY,CAACyD,WAAb,CAAyB1D,KAAzB,EAAgC,KAAhC;AACAuD,QAAAA,QAAQ,CAACM,GAAD,CAAR,GAAgB7D,KAAhB;AACD,OAHD,MAGO,IAAI,CAACc,iBAAiB,CAACd,KAAD,CAAtB,EAA+B;AACpCuD,QAAAA,QAAQ,CAACM,GAAD,CAAR,GAAgB7D,KAAhB;AACD,OAFM,MAEA,IAAIA,KAAK,YAAY+D,OAArB,EAA8B;AACnC,YAAIxD,cAAc,IAAIP,KAAtB,EAA6B;AAC3BuD,UAAAA,QAAQ,CAACM,GAAD,CAAR,GAAgB7D,KAAK,CAACO,cAAD,CAArB;AACD,SAFD,MAEO;AACL,cAAIyD,cAAc,GAAGhE,KAAK,CAACQ,aAAD,CAAL,IAAwBR,KAA7C;AACAH,UAAAA,MAAM,CAACC,cAAP,CAAsByD,QAAtB,EAAgCM,GAAhC,EAAqC;AACnC7B,YAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,kBAAIzB,cAAc,IAAIP,KAAtB,EAA6B;AAC3B,uBAAOA,KAAK,CAACO,cAAD,CAAZ;AACD;;AAED,oBAAMyD,cAAN;AACD;AAPkC,WAArC;AASD;AACF,OAfM,MAeA,IAAIhE,KAAK,CAACG,OAAD,CAAT,EAAoB;AACzBoD,QAAAA,QAAQ,CAACM,GAAD,CAAR,GAAgB7D,KAAK,CAACM,QAAD,CAArB;AACD,OAFM,MAEA;AACLiD,QAAAA,QAAQ,CAACM,GAAD,CAAR,GAAgB7D,KAAhB;AACD;AACF,KA5BD;AA6BAH,IAAAA,MAAM,CAACoE,MAAP,CAAcV,QAAd;AACA,WAAOA,QAAP;AACD,GAzCD;;AA2CA,MAAIW,UAAU,GAAGlD,KAAK,CAACC,OAAN,CAAca,aAAd,IAA+B,EAA/B,GAAoCjC,MAAM,CAAC2D,MAAP,CAAc3D,MAAM,CAAC4D,cAAP,CAAsB3B,aAAtB,CAAd,CAArD;AACA,MAAIqC,WAAW,GAAG,IAAIC,KAAJ,CAAUF,UAAV,EAAsB;AACtClC,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAaoB,MAAb,EAAqBR,IAArB,EAA2BS,QAA3B,EAAqC;AACxC,UAAIT,IAAI,KAAKzC,OAAb,EAAsB;AACpB,eAAO8B,OAAP;AACD;;AAED,UAAIW,IAAI,KAAKvC,SAAb,EAAwB;AACtB,eAAO6B,SAAP;AACD;;AAED,UAAIU,IAAI,KAAKtC,QAAb,EAAuB;AACrB,eAAO6C,cAAc,CAACC,MAAD,EAASC,QAAT,CAArB;AACD;;AAED,aAAOD,MAAM,CAACR,IAAD,CAAb;AACD,KAfqC;AAgBtCyB,IAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBjB,MAAxB,EAAgCR,IAAhC,EAAsC;AACpD,UAAI0B,SAAS,GAAGlB,MAAM,CAACR,IAAD,CAAtB;AACA,UAAI2B,cAAc,GAAGD,SAAS,IAAI,IAAb,GAAoB,KAAK,CAAzB,GAA6BA,SAAS,CAACjE,SAAD,CAA3D;;AAEA,UAAIkE,cAAJ,EAAoB;AAClBA,QAAAA,cAAc,CAACrB,MAAf,CAAsBD,eAAe,CAACL,IAAD,CAArC;AACD;;AAED,UAAI4B,OAAO,GAAGb,OAAO,CAACU,cAAR,CAAuBjB,MAAvB,EAA+BR,IAA/B,CAAd;;AAEA,UAAI4B,OAAJ,EAAa;AACXpC,QAAAA,YAAY,CAAC,CAAC,QAAD,EAAW,CAACQ,IAAD,CAAX,EAAmB0B,SAAnB,CAAD,CAAZ;AACD;;AAED,aAAOE,OAAP;AACD,KA/BqC;AAgCtCxB,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAaI,MAAb,EAAqBR,IAArB,EAA2B5C,KAA3B,EAAkC;AACrC,UAAIyE,qBAAJ;;AAEA,UAAIH,SAAS,GAAGlB,MAAM,CAACR,IAAD,CAAtB;;AAEA,UAAI/C,MAAM,CAAC6E,EAAP,CAAUJ,SAAV,EAAqBtE,KAArB,CAAJ,EAAiC;AAC/B,eAAO,IAAP;AACD;;AAED,UAAIuE,cAAc,GAAGD,SAAS,IAAI,IAAb,GAAoB,KAAK,CAAzB,GAA6BA,SAAS,CAACjE,SAAD,CAA3D;;AAEA,UAAIkE,cAAJ,EAAoB;AAClBA,QAAAA,cAAc,CAACrB,MAAf,CAAsBD,eAAe,CAACL,IAAD,CAArC;AACD;;AAED,UAAInC,MAAM,CAACqD,GAAP,CAAW9D,KAAX,KAAqB,CAACc,iBAAiB,CAACd,KAAD,CAAvC,IAAkD,CAACyE,qBAAqB,GAAG5E,MAAM,CAAC8E,wBAAP,CAAgCvB,MAAhC,EAAwCR,IAAxC,CAAzB,KAA2E,IAA3E,IAAmF6B,qBAAqB,CAACzB,GAA/J,EAAoK;AAClKI,QAAAA,MAAM,CAACR,IAAD,CAAN,GAAe5C,KAAf;AACD,OAFD,MAEO,IAAIA,KAAK,YAAY+D,OAArB,EAA8B;AACnCX,QAAAA,MAAM,CAACR,IAAD,CAAN,GAAe5C,KAAK,CAAC4E,IAAN,CAAW,UAAUC,CAAV,EAAa;AACrCzB,UAAAA,MAAM,CAACR,IAAD,CAAN,CAAarC,cAAb,IAA+BsE,CAA/B;AACAzC,UAAAA,YAAY,CAAC,CAAC,SAAD,EAAY,CAACQ,IAAD,CAAZ,EAAoBiC,CAApB,CAAD,CAAZ;AACA,iBAAOA,CAAP;AACD,SAJc,EAIZC,KAJY,CAIN,UAAUC,CAAV,EAAa;AACpB3B,UAAAA,MAAM,CAACR,IAAD,CAAN,CAAapC,aAAb,IAA8BuE,CAA9B;AACA3C,UAAAA,YAAY,CAAC,CAAC,QAAD,EAAW,CAACQ,IAAD,CAAX,EAAmBmC,CAAnB,CAAD,CAAZ;AACD,SAPc,CAAf;AAQD,OATM,MASA;AACL/E,QAAAA,KAAK,GAAGC,YAAY,CAAC+E,YAAb,CAA0BhF,KAA1B,KAAoCA,KAA5C;;AAEA,YAAIA,KAAK,CAACK,SAAD,CAAT,EAAsB;AACpB+C,UAAAA,MAAM,CAACR,IAAD,CAAN,GAAe5C,KAAf;AACD,SAFD,MAEO;AACLoD,UAAAA,MAAM,CAACR,IAAD,CAAN,GAAef,KAAK,CAAC7B,KAAD,CAApB;AACD;;AAEDoD,QAAAA,MAAM,CAACR,IAAD,CAAN,CAAavC,SAAb,EAAwBQ,GAAxB,CAA4B8B,eAAe,CAACC,IAAD,CAA3C;AACD;;AAEDR,MAAAA,YAAY,CAAC,CAAC,KAAD,EAAQ,CAACQ,IAAD,CAAR,EAAgB5C,KAAhB,EAAuBsE,SAAvB,CAAD,CAAZ;AACA,aAAO,IAAP;AACD;AAxEqC,GAAtB,CAAlB;AA0EA5C,EAAAA,UAAU,CAACsB,GAAX,CAAelB,aAAf,EAA8BqC,WAA9B;AACAR,EAAAA,OAAO,CAACC,OAAR,CAAgB9B,aAAhB,EAA+BS,OAA/B,CAAuC,UAAUsB,GAAV,EAAe;AACpD,QAAIoB,IAAI,GAAGpF,MAAM,CAAC8E,wBAAP,CAAgC7C,aAAhC,EAA+C+B,GAA/C,CAAX;;AAEA,QAAIoB,IAAI,CAACjD,GAAL,IAAYiD,IAAI,CAACjC,GAArB,EAA0B;AACxBnD,MAAAA,MAAM,CAACC,cAAP,CAAsBoE,UAAtB,EAAkCL,GAAlC,EAAuCoB,IAAvC;AACD,KAFD,MAEO;AACLd,MAAAA,WAAW,CAACN,GAAD,CAAX,GAAmB/B,aAAa,CAAC+B,GAAD,CAAhC;AACD;AACF,GARD;AASA,SAAOM,WAAP;AACD,CAxLD;;AAyLA,IAAIe,UAAU,GAAG,SAASA,UAAT,CAAoBf,WAApB,EAAiC;AAChD,SAAOA,WAAW,CAAChE,OAAD,CAAlB;AACD,CAFD;;AAGA,IAAIgF,SAAS,GAAG,SAASA,SAAT,CAAmBhB,WAAnB,EAAgCiB,QAAhC,EAA0CC,YAA1C,EAAwD;AACtE,MAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+BA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAxD,IAAwE,EAAErB,WAAW,IAAI,IAAf,IAAuBA,WAAW,CAAC9D,SAAD,CAApC,CAA5E,EAA8H;AAC5HoF,IAAAA,OAAO,CAACC,IAAR,CAAa,yBAAb;AACD;;AAED,MAAIC,OAAJ;AACA,MAAIC,GAAG,GAAG,EAAV;;AAEA,MAAIpD,QAAQ,GAAG,SAASA,QAAT,CAAkBH,EAAlB,EAAsB;AACnCuD,IAAAA,GAAG,CAACC,IAAJ,CAASxD,EAAT;;AAEA,QAAIgD,YAAJ,EAAkB;AAChBD,MAAAA,QAAQ,CAACQ,GAAG,CAACE,MAAJ,CAAW,CAAX,CAAD,CAAR;AACA;AACD;;AAED,QAAI,CAACH,OAAL,EAAc;AACZA,MAAAA,OAAO,GAAG5B,OAAO,CAACgC,OAAR,GAAkBnB,IAAlB,CAAuB,YAAY;AAC3Ce,QAAAA,OAAO,GAAGK,SAAV;AACAZ,QAAAA,QAAQ,CAACQ,GAAG,CAACE,MAAJ,CAAW,CAAX,CAAD,CAAR;AACD,OAHS,CAAV;AAID;AACF,GAdD;;AAgBA3B,EAAAA,WAAW,CAAC9D,SAAD,CAAX,CAAuBQ,GAAvB,CAA2B2B,QAA3B;AACA,SAAO,YAAY;AACjB2B,IAAAA,WAAW,CAAC9D,SAAD,CAAX,CAAuB6C,MAAvB,CAA8BV,QAA9B;AACD,GAFD;AAGD,CA5BD;;AA6BA,IAAIe,QAAQ,GAAG,SAASA,QAAT,CAAkBY,WAAlB,EAA+B;AAC5C,MAAI,OAAOmB,OAAP,KAAmB,QAAnB,IAA+BA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAxD,IAAwE,EAAErB,WAAW,IAAI,IAAf,IAAuBA,WAAW,CAAC7D,QAAD,CAApC,CAA5E,EAA6H;AAC3HmF,IAAAA,OAAO,CAACC,IAAR,CAAa,yBAAb;AACD;;AAED,SAAOvB,WAAW,CAAC7D,QAAD,CAAlB;AACD,CAND;;AAQAP,OAAO,CAACmF,UAAR,GAAqBA,UAArB;AACAnF,OAAO,CAAC8B,KAAR,GAAgBA,KAAhB;AACA9B,OAAO,CAACY,GAAR,GAAcA,GAAd;AACAZ,OAAO,CAACwD,QAAR,GAAmBA,QAAnB;AACAxD,OAAO,CAACoF,SAAR,GAAoBA,SAApB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar proxyCompare = require('proxy-compare');\n\nvar VERSION = Symbol();\nvar LISTENERS = Symbol();\nvar SNAPSHOT = Symbol();\nvar PROMISE_RESULT = Symbol();\nvar PROMISE_ERROR = Symbol();\nvar refSet = new WeakSet();\nvar ref = function ref(o) {\n  refSet.add(o);\n  return o;\n};\n\nvar isSupportedObject = function isSupportedObject(x) {\n  return typeof x === 'object' && x !== null && (Array.isArray(x) || !x[Symbol.iterator]) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer);\n};\n\nvar proxyCache = new WeakMap();\nvar globalVersion = 1;\nvar snapshotCache = new WeakMap();\nvar proxy = function proxy(initialObject) {\n  if (initialObject === void 0) {\n    initialObject = {};\n  }\n\n  if (!isSupportedObject(initialObject)) {\n    throw new Error('unsupported object type');\n  }\n\n  var found = proxyCache.get(initialObject);\n\n  if (found) {\n    return found;\n  }\n\n  var version = globalVersion;\n  var listeners = new Set();\n\n  var notifyUpdate = function notifyUpdate(op, nextVersion) {\n    if (!nextVersion) {\n      nextVersion = ++globalVersion;\n    }\n\n    if (version !== nextVersion) {\n      version = nextVersion;\n      listeners.forEach(function (listener) {\n        return listener(op, nextVersion);\n      });\n    }\n  };\n\n  var propListeners = new Map();\n\n  var getPropListener = function getPropListener(prop) {\n    var propListener = propListeners.get(prop);\n\n    if (!propListener) {\n      propListener = function propListener(op, nextVersion) {\n        var newOp = [].concat(op);\n        newOp[1] = [prop].concat(newOp[1]);\n        notifyUpdate(newOp, nextVersion);\n      };\n\n      propListeners.set(prop, propListener);\n    }\n\n    return propListener;\n  };\n\n  var popPropListener = function popPropListener(prop) {\n    var propListener = propListeners.get(prop);\n    propListeners.delete(prop);\n    return propListener;\n  };\n\n  var createSnapshot = function createSnapshot(target, receiver) {\n    var cache = snapshotCache.get(receiver);\n\n    if ((cache == null ? void 0 : cache[0]) === version) {\n      return cache[1];\n    }\n\n    var snapshot = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n    proxyCompare.markToTrack(snapshot, true);\n    snapshotCache.set(receiver, [version, snapshot]);\n    Reflect.ownKeys(target).forEach(function (key) {\n      var value = target[key];\n\n      if (refSet.has(value)) {\n        proxyCompare.markToTrack(value, false);\n        snapshot[key] = value;\n      } else if (!isSupportedObject(value)) {\n        snapshot[key] = value;\n      } else if (value instanceof Promise) {\n        if (PROMISE_RESULT in value) {\n          snapshot[key] = value[PROMISE_RESULT];\n        } else {\n          var errorOrPromise = value[PROMISE_ERROR] || value;\n          Object.defineProperty(snapshot, key, {\n            get: function get() {\n              if (PROMISE_RESULT in value) {\n                return value[PROMISE_RESULT];\n              }\n\n              throw errorOrPromise;\n            }\n          });\n        }\n      } else if (value[VERSION]) {\n        snapshot[key] = value[SNAPSHOT];\n      } else {\n        snapshot[key] = value;\n      }\n    });\n    Object.freeze(snapshot);\n    return snapshot;\n  };\n\n  var baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n  var proxyObject = new Proxy(baseObject, {\n    get: function get(target, prop, receiver) {\n      if (prop === VERSION) {\n        return version;\n      }\n\n      if (prop === LISTENERS) {\n        return listeners;\n      }\n\n      if (prop === SNAPSHOT) {\n        return createSnapshot(target, receiver);\n      }\n\n      return target[prop];\n    },\n    deleteProperty: function deleteProperty(target, prop) {\n      var prevValue = target[prop];\n      var childListeners = prevValue == null ? void 0 : prevValue[LISTENERS];\n\n      if (childListeners) {\n        childListeners.delete(popPropListener(prop));\n      }\n\n      var deleted = Reflect.deleteProperty(target, prop);\n\n      if (deleted) {\n        notifyUpdate(['delete', [prop], prevValue]);\n      }\n\n      return deleted;\n    },\n    set: function set(target, prop, value) {\n      var _Object$getOwnPropert;\n\n      var prevValue = target[prop];\n\n      if (Object.is(prevValue, value)) {\n        return true;\n      }\n\n      var childListeners = prevValue == null ? void 0 : prevValue[LISTENERS];\n\n      if (childListeners) {\n        childListeners.delete(popPropListener(prop));\n      }\n\n      if (refSet.has(value) || !isSupportedObject(value) || (_Object$getOwnPropert = Object.getOwnPropertyDescriptor(target, prop)) != null && _Object$getOwnPropert.set) {\n        target[prop] = value;\n      } else if (value instanceof Promise) {\n        target[prop] = value.then(function (v) {\n          target[prop][PROMISE_RESULT] = v;\n          notifyUpdate(['resolve', [prop], v]);\n          return v;\n        }).catch(function (e) {\n          target[prop][PROMISE_ERROR] = e;\n          notifyUpdate(['reject', [prop], e]);\n        });\n      } else {\n        value = proxyCompare.getUntracked(value) || value;\n\n        if (value[LISTENERS]) {\n          target[prop] = value;\n        } else {\n          target[prop] = proxy(value);\n        }\n\n        target[prop][LISTENERS].add(getPropListener(prop));\n      }\n\n      notifyUpdate(['set', [prop], value, prevValue]);\n      return true;\n    }\n  });\n  proxyCache.set(initialObject, proxyObject);\n  Reflect.ownKeys(initialObject).forEach(function (key) {\n    var desc = Object.getOwnPropertyDescriptor(initialObject, key);\n\n    if (desc.get || desc.set) {\n      Object.defineProperty(baseObject, key, desc);\n    } else {\n      proxyObject[key] = initialObject[key];\n    }\n  });\n  return proxyObject;\n};\nvar getVersion = function getVersion(proxyObject) {\n  return proxyObject[VERSION];\n};\nvar subscribe = function subscribe(proxyObject, callback, notifyInSync) {\n  if (typeof process === 'object' && process.env.NODE_ENV !== 'production' && !(proxyObject != null && proxyObject[LISTENERS])) {\n    console.warn('Please use proxy object');\n  }\n\n  var promise;\n  var ops = [];\n\n  var listener = function listener(op) {\n    ops.push(op);\n\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n\n    if (!promise) {\n      promise = Promise.resolve().then(function () {\n        promise = undefined;\n        callback(ops.splice(0));\n      });\n    }\n  };\n\n  proxyObject[LISTENERS].add(listener);\n  return function () {\n    proxyObject[LISTENERS].delete(listener);\n  };\n};\nvar snapshot = function snapshot(proxyObject) {\n  if (typeof process === 'object' && process.env.NODE_ENV !== 'production' && !(proxyObject != null && proxyObject[SNAPSHOT])) {\n    console.warn('Please use proxy object');\n  }\n\n  return proxyObject[SNAPSHOT];\n};\n\nexports.getVersion = getVersion;\nexports.proxy = proxy;\nexports.ref = ref;\nexports.snapshot = snapshot;\nexports.subscribe = subscribe;\n"]},"metadata":{},"sourceType":"script"}